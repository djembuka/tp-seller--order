{"version":3,"file":"application.bundle.js","sources":["../src/stores/order.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const orderStore = defineStore('order', {\r\n  state: () => ({\r\n    OPTIONS: {},\r\n    controls: {},\r\n    result: {},\r\n    location: {},\r\n    personTypeOld: '',\r\n    loading: false,\r\n    error: '',\r\n    sessid: window.BX.bitrix_sessid(),\r\n  }),\r\n  getters: {\r\n    formData(state) {\r\n      const result = {};\r\n\r\n      Object.entries(state.controls).forEach((entry) => {\r\n        entry[1].forEach((control) => {\r\n          if (entry[0] === 'location' && typeof control.value === 'object') {\r\n            result[control.name] = control.value.id;\r\n          } else {\r\n            result[control.name] = control.value;\r\n          }\r\n        });\r\n      });\r\n\r\n      return result;\r\n    },\r\n  },\r\n  actions: {\r\n    showError({ message }) {\r\n      this.error = message;\r\n    },\r\n    hideError() {\r\n      this.showError({ message: '' });\r\n    },\r\n    getSaveData() {\r\n      return {\r\n        ...this.formData,\r\n        sessid: this.sessid,\r\n        via_ajax: 'Y',\r\n        action: 'saveOrderAjax',\r\n        SITE_ID: this.OPTIONS.siteID,\r\n        signedParamsString: this.OPTIONS.signedParamsString,\r\n      };\r\n    },\r\n    sendForm() {\r\n      BX.ajax({\r\n        method: 'POST',\r\n        dataType: 'json',\r\n        url: this.OPTIONS.ajaxUrl,\r\n        data: this.getSaveData(),\r\n        onsuccess: (result) => {\r\n          console.log('success', result);\r\n          if (result && result.order) {\r\n            if (result.order.REDIRECT_URL) {\r\n              location.href = result.order.REDIRECT_URL;\r\n            } else if (result.order.ERROR && result.order.ERROR.PROPERTY) {\r\n              this.showError({\r\n                message: result.order.ERROR.PROPERTY.join('<br>'),\r\n              });\r\n            }\r\n          }\r\n        },\r\n        onfailure: (error) => {\r\n          console.log('failure', error);\r\n        },\r\n      });\r\n    },\r\n    loadData() {\r\n      this.loading = true;\r\n\r\n      const self = this;\r\n\r\n      BX.ajax({\r\n        method: 'POST',\r\n        dataType: 'json',\r\n        url: this.OPTIONS.ajaxUrl,\r\n        data: this.getData(),\r\n        onsuccess: (result) => {\r\n          self.loading = false;\r\n          self.setLoadResult({ result });\r\n          self.setPersonTypeOld(self.result.order);\r\n          this.createLocation({\r\n            data: self.result.order,\r\n            locations: self.result.locations,\r\n          });\r\n          self.createControls(self.result.order);\r\n        },\r\n        onfailure: (error) => {},\r\n      });\r\n    },\r\n    getData() {\r\n      return {\r\n        order: this.formData,\r\n        sessid: this.sessid,\r\n        via_ajax: 'Y',\r\n        SITE_ID: this.OPTIONS.siteID,\r\n        signedParamsString: this.OPTIONS.signedParamsString,\r\n        'soa-action': 'refreshOrderAjax',\r\n      };\r\n    },\r\n    changeControlValue({ control, value, checked }) {\r\n      switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n          this.changeTextControlValue({ control, value });\r\n          break;\r\n        case 'hint':\r\n          this.changeHintControlValue({ control, value });\r\n          break;\r\n        case 'multiselect':\r\n          this.changeMultiselectValue({ control, value, checked });\r\n          break;\r\n        case 'checkbox':\r\n          this.changeCheckboxValue({ control, checked });\r\n          break;\r\n        case 'select':\r\n          this[\r\n            `changeSelect${control.type\r\n              .substring(0, 1)\r\n              .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n          ]({ control, value });\r\n          break;\r\n        case 'file':\r\n          this.changeFileValue({ control, value });\r\n          break;\r\n        case 'date':\r\n          this.changeDateValue({ control, value });\r\n          break;\r\n        case 'color':\r\n          this.changeColorValue({ control, value });\r\n          break;\r\n      }\r\n    },\r\n    changeTextControlValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeHintControlValue({ control, value }) {\r\n      control.value = value;\r\n      if (typeof value === 'object') {\r\n        this.location.last = value;\r\n      }\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    setLoadResult({ result }) {\r\n      this.result = result;\r\n    },\r\n    setPersonTypeOld(data) {\r\n      this.personTypeOld = Object.entries(data.PERSON_TYPE).find(\r\n        (entry) => entry[1].CHECKED === 'Y'\r\n      )[0];\r\n    },\r\n    createData() {\r\n      this.setPersonTypeOld(this.OPTIONS.result);\r\n      this.createLocation({\r\n        data: this.OPTIONS.result,\r\n        locations: this.OPTIONS.locations,\r\n      });\r\n      this.createControls();\r\n    },\r\n    createLocation({ data, locations }) {\r\n      const id = Object.keys(locations)[0];\r\n      const orderProp = data.ORDER_PROP.properties.find(\r\n        (p) => p.IS_LOCATION === 'Y'\r\n      );\r\n\r\n      //get location name\r\n      const string = Object.values(locations)[0].output[0];\r\n      const index1 = string.indexOf('pathNames');\r\n      const index2 = string.indexOf('}', index1);\r\n      const sub = string.substring(index1 - 1, index2 + 1);\r\n      const obj = JSON.parse(`{${sub.replace(/'/gi, `\"`)}}`);\r\n      const name = Object.values(obj.pathNames)[1];\r\n\r\n      this.location = {\r\n        label: orderProp.NAME,\r\n        inputId: id,\r\n        last: { id: orderProp.VALUE[0], value: name },\r\n      };\r\n    },\r\n    createControls(data = this.OPTIONS.result) {\r\n      //location\r\n      const location = [\r\n        {\r\n          property: 'hint',\r\n          id: 'twpxOrderLocationId',\r\n          name: `ORDER_PROP_${this.location.inputId}`,\r\n          value: this.location.last || '',\r\n          count: 3,\r\n          action: 'twinpx:location-hint',\r\n          required: false,\r\n          disabled: false,\r\n        },\r\n      ];\r\n\r\n      //person type\r\n      const personType = [\r\n        {\r\n          property: 'select',\r\n          type: 'radio',\r\n          id: 'radioID',\r\n          name: 'PERSON_TYPE',\r\n          label: 'Person types',\r\n        },\r\n      ];\r\n      if (data) {\r\n        personType[0].options = Object.values(data.PERSON_TYPE).map((p) => {\r\n          return {\r\n            label: p.NAME,\r\n            code: p.ID,\r\n          };\r\n        });\r\n      }\r\n      personType[0].value = Object.values(data.PERSON_TYPE).find(\r\n        (p) => p.CHECKED === 'Y'\r\n      ).ID;\r\n\r\n      //delivery\r\n      const delivery = [\r\n        {\r\n          property: 'select',\r\n          type: 'radio',\r\n          id: 'ID_DELIVERY_ID_',\r\n          name: 'DELIVERY_ID',\r\n          label: 'Delivery',\r\n        },\r\n      ];\r\n      if (data) {\r\n        delivery[0].options = Object.values(data.DELIVERY).map((d) => {\r\n          return {\r\n            label: d.NAME,\r\n            code: d.ID,\r\n          };\r\n        });\r\n      }\r\n      delivery[0].value = Object.values(data.DELIVERY).find(\r\n        (d) => d.CHECKED === 'Y'\r\n      ).ID;\r\n\r\n      //paysystem\r\n      const paysystem = [\r\n        {\r\n          property: 'select',\r\n          type: 'radio',\r\n          id: 'ID_PAY_SYSTEM_ID_',\r\n          name: 'PAY_SYSTEM_ID',\r\n          label: 'Pay system',\r\n        },\r\n      ];\r\n      if (data) {\r\n        paysystem[0].options = Object.values(data.PAY_SYSTEM).map((p) => {\r\n          return {\r\n            label: p.NAME,\r\n            code: p.ID,\r\n          };\r\n        });\r\n      }\r\n      paysystem[0].value = Object.values(data.PAY_SYSTEM).find(\r\n        (p) => p.CHECKED === 'Y'\r\n      ).ID;\r\n\r\n      //order prors\r\n      let orderProps = [];\r\n\r\n      if (data) {\r\n        orderProps = data.ORDER_PROP.properties.map((p) => {\r\n          let property = 'text';\r\n          if (p.IS_ADDRESS === 'Y') {\r\n            property = 'textarea';\r\n          }\r\n          return {\r\n            property,\r\n            id: p.ID,\r\n            name: `ORDER_PROP_${p.ID}`,\r\n            label: p.NAME,\r\n            value: p.VALUE[0],\r\n            required: p.REQUIRED === 'Y',\r\n            disabled: false,\r\n          };\r\n        });\r\n      }\r\n\r\n      this.controls = {\r\n        hidden: [\r\n          {\r\n            property: 'text',\r\n            id: 'sessid',\r\n            name: 'sessid',\r\n            label: 'sessid',\r\n            value: window.BX.bitrix_sessid(),\r\n            required: false,\r\n            disabled: false,\r\n          },\r\n          {\r\n            property: 'text',\r\n            id: 'soaAction',\r\n            name: 'soa-action',\r\n            label: 'soa-action',\r\n            value: 'saveOrderAjax',\r\n            required: false,\r\n            disabled: false,\r\n          },\r\n          {\r\n            property: 'text',\r\n            id: 'locationType',\r\n            name: 'location_type',\r\n            label: 'location_type',\r\n            value: 'code',\r\n            required: false,\r\n            disabled: false,\r\n          },\r\n          {\r\n            property: 'text',\r\n            id: 'BUYER_STORE',\r\n            name: 'BUYER_STORE',\r\n            label: 'BUYER_STORE',\r\n            value: String(data.BUYER_STORE),\r\n            required: false,\r\n            disabled: false,\r\n          },\r\n          {\r\n            property: 'text',\r\n            id: 'RECENT_DELIVERY_VALUE',\r\n            name: 'RECENT_DELIVERY_VALUE',\r\n            label: 'RECENT_DELIVERY_VALUE',\r\n            value: this.location.last.id,\r\n            required: false,\r\n            disabled: false,\r\n          },\r\n          {\r\n            property: 'text',\r\n            id: 'PERSON_TYPE_OLD',\r\n            name: 'PERSON_TYPE_OLD',\r\n            label: 'PERSON_TYPE_OLD',\r\n            value: this.personTypeOld,\r\n            required: false,\r\n            disabled: false,\r\n          },\r\n        ],\r\n        personType,\r\n        delivery,\r\n        paysystem,\r\n        orderProps,\r\n        location,\r\n      };\r\n    },\r\n    loadLocationHints({ control, action }, callback = () => {}) {\r\n      control.loading = true;\r\n\r\n      const data = {\r\n        select: {\r\n          1: 'CODE',\r\n          2: 'TYPE_ID',\r\n          VALUE: 'ID',\r\n          DISPLAY: 'NAME.NAME',\r\n        },\r\n        additionals: {\r\n          1: 'PATH',\r\n        },\r\n        filter: {\r\n          '=PHRASE': control.value.forEach\r\n            ? control.value.value\r\n            : control.value,\r\n          '=NAME.LANGUAGE_ID': 'ru',\r\n          '=SITE_ID': 's1',\r\n        },\r\n        version: '2',\r\n        PAGE_SIZE: '10',\r\n        PAGE: '0',\r\n      };\r\n\r\n      BX.ajax({\r\n        method: 'POST',\r\n        dataType: 'json',\r\n        url: '/bitrix/components/bitrix/sale.location.selector.search/get.php',\r\n        data,\r\n        onsuccess: (result) => {\r\n          control.loading = false;\r\n          resultFn(result);\r\n        },\r\n        onfailure: (error) => {\r\n          console.log(error);\r\n        },\r\n      });\r\n\r\n      function resultFn(result) {\r\n        if (!result.data || !result.data.ITEMS || !result.data.ITEMS.map) {\r\n          return;\r\n        }\r\n\r\n        control.hints = result.data.ITEMS.map((obj) => {\r\n          return {\r\n            id: obj.CODE,\r\n            value: obj.DISPLAY,\r\n          };\r\n        });\r\n\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    setLocationHints({ control, value }) {\r\n      control.hints = value;\r\n    },\r\n  },\r\n});\r\n","import './application.css';\r\n\r\nimport { LocationComponent } from 'local.vue-components.location-component';\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { ErrorMessage } from 'local.vue-components.error-message';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { orderStore } from '../stores/order';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {\r\n      locations: undefined,\r\n    };\r\n  },\r\n  components: {\r\n    LocationComponent,\r\n    ControlComponent,\r\n    LoaderCircle,\r\n    ButtonComponent,\r\n    ErrorMessage,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n  <LoaderCircle :show=\"loading\" />\r\n  <ErrorMessage :error=\"error\" @hideError=\"hideError\" />\r\n  <form id=\"bx-soa-order-form\" ref=\"form\">\r\n\r\n    <fieldset>\r\n      <legend>Person type</legend>\r\n      <div v-for=\"control in controls.personType\" :key=\"control.id\">\r\n        <ControlComponent :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n      </div>\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <fieldset>\r\n      <legend>Delivery</legend>\r\n      <div v-for=\"control in controls.delivery\" :key=\"control.id\">\r\n        <ControlComponent  :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n      </div>\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <fieldset>\r\n      <legend>Location</legend>\r\n      <hr>\r\n      <div v-for=\"control in controls.location\" :key=\"control.id\">\r\n        <LocationComponent :control=\"control\" @input=\"input\" @hints=\"locationHints\" />\r\n      </div>\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <fieldset>\r\n      <legend>Paysystem</legend>\r\n      <div v-for=\"control in controls.paysystem\" :key=\"control.id\">\r\n        <ControlComponent :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n      </div>\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <fieldset>\r\n      <legend>Order props</legend>\r\n      <hr>\r\n      <div v-for=\"(control, index) in controls.orderProps\" :key=\"control.id\">\r\n        <ControlComponent :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n        <hr v-if=\"index + 1 < controls.orderProps.length\">\r\n      </div>\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <fieldset>\r\n      <legend>Comment</legend>\r\n      <ControlComponent :control=\"{\r\n            property: 'textarea',\r\n            id: 'orderDescription',\r\n            name: 'ORDER_DESCRIPTION',\r\n            label: 'Comment',\r\n            value: '',\r\n            required: false,\r\n            disabled: false,\r\n          }\" @input=\"input\" @hints=\"hints\" />\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <fieldset>\r\n      <legend>Hidden</legend>\r\n      <hr>\r\n      <div style=\"display: grid; gap: 16px; grid-template-columns: repeat(4, 1fr);\">\r\n        <ControlComponent v-for=\"control in controls.hidden\" :key=\"control.id\" :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n      </div>\r\n    </fieldset>\r\n\r\n    <hr>\r\n\r\n    <ButtonComponent name=\"Оформить заказ\" @clickButton=\"clickButton\" />\r\n\r\n    <hr>\r\n    \r\n  </form>\r\n  `,\r\n  computed: {\r\n    ...mapState(orderStore, ['OPTIONS', 'controls', 'loading', 'error']),\r\n    LOCATION() {\r\n      if (this.OPTIONS.locations) {\r\n        return Object.values(this.OPTIONS.locations)[0].lastValue;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(orderStore, [\r\n      'changeControlValue',\r\n      'loadData',\r\n      'loadLocationHints',\r\n      'setLocationHints',\r\n      'sendForm',\r\n      'hideError',\r\n    ]),\r\n    clickButton() {\r\n      this.sendForm();\r\n    },\r\n    input(attrs) {\r\n      this.changeControlValue(attrs);\r\n\r\n      if (\r\n        attrs.control.type === 'radio' ||\r\n        (attrs.control.property === 'hint' &&\r\n          typeof attrs.control.value === 'object')\r\n      ) {\r\n        this.loadData();\r\n      }\r\n    },\r\n    locationHints({ type, control, action, value }) {\r\n      switch (type) {\r\n        case 'get':\r\n          this.loadLocationHints({\r\n            control,\r\n            action,\r\n          });\r\n          break;\r\n        case 'set':\r\n          this.setLocationHints({\r\n            control,\r\n            value,\r\n          });\r\n          break;\r\n      }\r\n    },\r\n  },\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { orderStore } from './stores/order';\r\n\r\nexport class OrderMake {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Order Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      mounted() {\r\n        if (self.options && typeof self.options === 'object') {\r\n          Object.keys(self.options).forEach((key) => {\r\n            orderStore()[key] = self.options[key] || '';\r\n          });\r\n        }\r\n\r\n        orderStore().createData();\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getOrderStore(): Object {\r\n    return orderStore;\r\n  }\r\n}\r\n"],"names":["orderStore","defineStore","state","OPTIONS","controls","result","location","personTypeOld","loading","error","sessid","window","BX","bitrix_sessid","getters","formData","Object","entries","forEach","entry","control","value","name","id","actions","showError","message","hideError","getSaveData","via_ajax","action","SITE_ID","siteID","signedParamsString","sendForm","ajax","method","dataType","url","ajaxUrl","data","onsuccess","console","log","order","REDIRECT_URL","href","ERROR","PROPERTY","join","onfailure","loadData","self","getData","setLoadResult","setPersonTypeOld","createLocation","locations","createControls","changeControlValue","checked","property","changeTextControlValue","changeHintControlValue","changeMultiselectValue","changeCheckboxValue","type","substring","toUpperCase","toLowerCase","changeFileValue","changeDateValue","changeColorValue","last","changeSelectRadioValue","PERSON_TYPE","find","CHECKED","createData","keys","orderProp","ORDER_PROP","properties","p","IS_LOCATION","string","values","output","index1","indexOf","index2","sub","obj","JSON","parse","replace","pathNames","label","NAME","inputId","VALUE","count","required","disabled","personType","options","map","code","ID","delivery","DELIVERY","d","paysystem","PAY_SYSTEM","orderProps","IS_ADDRESS","REQUIRED","hidden","String","BUYER_STORE","loadLocationHints","callback","select","DISPLAY","additionals","filter","version","PAGE_SIZE","PAGE","resultFn","ITEMS","hints","CODE","setLocationHints","Application","undefined","components","LocationComponent","ControlComponent","LoaderCircle","ButtonComponent","ErrorMessage","template","computed","mapState","LOCATION","lastValue","methods","mapActions","clickButton","input","attrs","locationHints","OrderMake","rootNode","createPinia","document","querySelector","BitrixVue","createApp","mounted","key","use","mount","setActivePinia"],"mappings":"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"}