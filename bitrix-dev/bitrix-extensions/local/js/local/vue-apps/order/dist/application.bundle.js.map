{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    sessionid: '',\r\n    signedParameters: '',\r\n  }),\r\n});\r\n","import './application.css';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {\r\n      locations: undefined,\r\n      order: undefined,\r\n\r\n      PROPERTIES: undefined,\r\n      DELIVERY_LIST: undefined,\r\n      DELIVERY_ERRORS: undefined,\r\n      PAY_SYSTEM_LIST: undefined,\r\n      PAY_SYSTEM_ERRORS: undefined,\r\n      BASKET: undefined,\r\n      PRODUCTS_BASE_PRICE_FORMATED: undefined,\r\n      PRODUCTS_PRICE_FORMATED: undefined,\r\n      PRODUCTS_DISCOUNT_FORMATED: undefined,\r\n      DELIVERY_BASE_PRICE_FORMATED: undefined,\r\n      DELIVERY_PRICE_FORMATED: undefined,\r\n      DELIVERY_DISCOUNT_FORMATED: undefined,\r\n      SUM_BASE_FORMATED: undefined,\r\n      DISCOUNT_VALUE_FORMATED: undefined,\r\n      SUM_FORMATED: undefined,\r\n    };\r\n  },\r\n  components: {},\r\n  // language=Vue\r\n\r\n  template: `\r\n  <button @click.prevent=\"loadData\">Load</button>\r\n    <form action=\"\" method=\"post\" name=\"os-order-form\" id=\"os-order-form\">\r\n      <input type=\"hidden\" name=\"person_type_id\" :value=\"PERSON_TYPE_ID\">\r\n      <h2>{{OPEN_SOURCE_ORDER_TEMPLATE_PROPERTIES_TITLE}}</h2>\r\n      <table>\r\n        <tr v-for=\"prop in PROPERTIES\" :key=\"prop.ID\">\r\n          <td>\r\n            <label :for=\"prop.NAME\">\r\n              <span class=\"required\" style=\"color: red;\" title=\"%s\" v-if=\"prop.REQUIRED === 'Y'\">*</span>\r\n            </label>\r\n            <!--<div class=\"error\" data-v-for=\"error in prop.ERRORS\" data-key=\"error.id\">error.getMessage()</div>-->\r\n          </td>\r\n          <td>\r\n            <div v-if=\"prop.TYPE === 'LOCATION'\" class=\"location\">\r\n              <select class=\"location-search\" :name=\"prop.TYPE\"\r\n                :id=\"prop.TYPE\">\r\n                <option :data-data='prop.LOCATION_DATA' :value=\"prop.DEFAULT_VALUE\">{{prop.NAME}}</option>\r\n              </select>\r\n            </div>\r\n            <div v-else-if=\"prop.TYPE === 'ENUM'\">\r\n              <div v-for=\"(name, code) in prop.OPTIONS\">\r\n                <label class=\"enum-option\">\r\n                  <input type=\"radio\" :name=\"prop.NAME\" :value=\"code\">\r\n                  {{name}}\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div v-else-if=\"prop.TYPE === 'DATE'\">\r\n              <calendar></calendar>\r\n            </div>\r\n            <div v-else-if=\"prop.TYPE === 'Y/N'\">\r\n              <input :id=\"prop.NAME\" type=\"checkbox\" :name=\"prop.NAME\" value=\"Y\">\r\n            </div>\r\n            <div v-else>\r\n              {{prop.NAME}}\r\n              <input :id=\"prop.NAME\" type=\"text\" :name=\"prop.NAME\" :value=\"prop.VALUE\">\r\n            </div>\r\n          </td>\r\n        </tr>\r\n\r\n      </table>\r\n\r\n      <h2>{{OPEN_SOURCE_ORDER_TEMPLATE_DELIVERIES_TITLE}}</h2>\r\n      <!--<div data-v-for=\"error in DELIVERY_ERRORS\" class=\"error\" data-key=\"error.id\">error.getMessage()</div>-->\r\n      <div v-for=\"arDelivery in DELIVERY_LIST\" :key=\"arDelivery.ID\">\r\n        <label>\r\n          <input type=\"radio\" name=\"delivery_id\" :value=\"arDelivery.ID\" :checked=\"arDelivery.CHECKED\">\r\n          {{arDelivery.NAME}}\r\n          <span v-html=\"arDelivery.PRICE_FORMATED\"></span>\r\n        </label>\r\n        <br>\r\n      </div>\r\n\r\n      <h2>{{OPEN_SOURCE_ORDER_TEMPLATE_PAY_SYSTEMS_TITLE}}</h2>\r\n      <!--<div data-v-for=\"error in PAY_SYSTEM_ERRORS\" class=\"error\" data-key=\"error.id\">error.getMessage()</div>-->\r\n      <div v-for=\"arPaySystem in PAY_SYSTEM_LIST\" :key=\"arPaySystem.ID\">\r\n        <label>\r\n          <input type=\"radio\" name=\"pay_system_id\" :value=\"arPaySystem.ID\" :checked=\"arPaySystem.CHECKED\">\r\n          {{arPaySystem.NAME}}\r\n        </label>\r\n        <br>\r\n      </div>\r\n\r\n      <h2>{{OPEN_SOURCE_ORDER_TEMPLATE_BASKET_TITLE}}</h2>\r\n      <table>\r\n        <tr>\r\n          <th>{{OPEN_SOURCE_ORDER_TEMPLATE_BASKET_NAME_COLUMN}}</th>\r\n          <th>{{OPEN_SOURCE_ORDER_TEMPLATE_BASKET_COUNT_COLUMN}}</th>\r\n          <th>{{OPEN_SOURCE_ORDER_TEMPLATE_BASKET_UNIT_PRICE_COLUMN}}</th>\r\n          <th>{{OPEN_SOURCE_ORDER_TEMPLATE_BASKET_DISCOUNT_COLUMN}}</th>\r\n          <th>{{OPEN_SOURCE_ORDER_TEMPLATE_BASKET_TOTAL_COLUMN}}</th>\r\n        </tr>\r\n        <tr v-for=\"arBasketItem in BASKET\" :key=\"arBasketItem.ID\">\r\n          <td>\r\n            {{arBasketItem.NAME}}\r\n            <div v-if=\"arBasketItem.PROPERTIES.length\" class=\"basket-properties\">\r\n              <div v-for=\"prop in arBasketItem.PROPERTIES\" :key=\"prop.ID\">\r\n                {{prop.NAME}}\r\n                {{prop.VALUE}}\r\n                <br>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td>{{arBasketItem.QUANTITY}} {{arBasketItem.MEASURE}}</td>\r\n          <td v-html=\"arBasketItem.BASE_PRICE_FORMATED\"></td>\r\n          <td v-html=\"arBasketItem.PRICE_FORMATED\"></td>\r\n          <td v-html=\"arBasketItem.SUM_FORMATED\"></td>\r\n        </tr>\r\n      </table>\r\n\r\n      <h2>{{OPEN_SOURCE_ORDER_TEMPLATE_ORDER_TOTAL_TITLE}}</h2>\r\n\r\n      <h3>{{OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_PRICES_TITLE}}:</h3>\r\n      <table>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_BASE_PRICE}}</td>\r\n          <td v-html=\"PRODUCTS_BASE_PRICE_FORMATED\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_PRICE}}</td>\r\n          <td v-html=\"PRODUCTS_PRICE_FORMATED\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_DISCOUNT}}</td>\r\n          <td v-html=\"PRODUCTS_DISCOUNT_FORMATED\"></td>\r\n        </tr>\r\n      </table>\r\n\r\n      <h3>{{OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_PRICES_TITLE}}:</h3>\r\n      <table>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_BASE_PRICE}}</td>\r\n          <td v-html=\"DELIVERY_BASE_PRICE_FORMATED\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_PRICE}}</td>\r\n          <td v-html=\"DELIVERY_PRICE_FORMATED\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_DISCOUNT}}</td>\r\n          <td v-html=\"DELIVERY_DISCOUNT_FORMATED\"></td>\r\n        </tr>\r\n      </table>\r\n\r\n      <h3>{{OPEN_SOURCE_ORDER_TEMPLATE_SUM_TITLE}}:</h3>\r\n      <table>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_TOTAL_BASE_PRICE}}</td>\r\n          <td v-html=\"SUM_BASE_FORMATED\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_TOTAL_DISCOUNT}}</td>\r\n          <td v-html=\"DISCOUNT_VALUE_FORMATED\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>{{OPEN_SOURCE_ORDER_TEMPLATE_TOTAL_PRICE}}</td>\r\n          <td v-html=\"SUM_FORMATED\"></td>\r\n        </tr>\r\n      </table>\r\n\r\n      <input type=\"hidden\" name=\"save\" value=\"y\">\r\n      <br>\r\n      <button type=\"submit\">{{OPEN_SOURCE_ORDER_TEMPLATE_MAKE_ORDER_BUTTON}}</button>\r\n      <br>\r\n      <br>\r\n    </form>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'SESSION_ID',\r\n      'SIGNED_PARAMETERS',\r\n      'OPTIONS',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_PROPERTIES_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_DELIVERIES_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_PAY_SYSTEMS_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_BASKET_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_BASKET_NAME_COLUMN',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_BASKET_COUNT_COLUMN',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_BASKET_UNIT_PRICE_COLUMN',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_BASKET_DISCOUNT_COLUMN',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_BASKET_TOTAL_COLUMN',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_ORDER_TOTAL_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_PRICES_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_BASE_PRICE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_PRICE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_PRODUCTS_DISCOUNT',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_PRICES_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_BASE_PRICE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_PRICE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_DELIVERY_DISCOUNT',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_SUM_TITLE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_TOTAL_BASE_PRICE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_TOTAL_DISCOUNT',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_TOTAL_PRICE',\r\n      'OPEN_SOURCE_ORDER_TEMPLATE_MAKE_ORDER_BUTTON',\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, []),\r\n    loadData() {\r\n      const self = this;\r\n      BX.ajax({\r\n        method: 'POST',\r\n        dataType: 'json',\r\n        url: 'https://seller20testing.twpx.ru/bitrix/components/bitrix/sale.order.ajax/ajax.php',\r\n        data: dataStore().OPTIONS,\r\n        onsuccess: BX.delegate((result) => {\r\n          self.locations = result.locations;\r\n          self.makeData(result.order);\r\n        }, this),\r\n        onfailure: BX.delegate(() => {\r\n          self.endLoader();\r\n        }, this),\r\n      });\r\n    },\r\n    makeData(data) {\r\n      //pay systems\r\n      this.PAY_SYSTEM_LIST = Object.values(data.PAY_SYSTEM).map((pay) => {\r\n        return {\r\n          ID: pay.ID,\r\n          SORT: pay.SORT,\r\n          NAME: pay.NAME,\r\n          DESCRIPTION: pay.DESCRIPTION,\r\n          CHECKED: pay.CHECKED,\r\n          SRC: pay.PSA_LOGOTIP_SRC,\r\n        };\r\n      });\r\n\r\n      //deliveries\r\n      this.DELIVERY_LIST = Object.values(data.DELIVERY).map((del) => {\r\n        return {\r\n          ID: del.ID,\r\n          SORT: del.SORT,\r\n          NAME: del.NAME,\r\n          DESCRIPTION: del.DESCRIPTION,\r\n          CHECKED: del.CHECKED,\r\n          SRC: del.LOGOTIP_SRC,\r\n          PRICE_FORMATED: del.PRICE_FORMATED,\r\n          FIELD_NAME: del.FIELD_NAME,\r\n        };\r\n      });\r\n\r\n      //basket\r\n      this.BASKET = Object.values(data.GRID.ROWS).map((product) => {\r\n        return {\r\n          ID: product.data.ID,\r\n          SORT: product.data.SORT,\r\n          NAME: product.data.NAME,\r\n          PROPERTIES: Object.values(product.data.PROPS),\r\n          QUANTITY: product.data.QUANTITY,\r\n          MEASURE: product.data.MEASURE_TEXT,\r\n          SRC: product.data.DETAIL_PICTURE_SRC_ORIGINAL,\r\n          BASE_PRICE: product.data.BASE_PRICE,\r\n          BASE_PRICE_FORMATED: product.data.BASE_PRICE_FORMATED,\r\n          PRICE: product.data.PRICE, //price with discount\r\n          PRICE_FORMATED: product.data.PRICE_FORMATED, //price with discount\r\n          DETAIL_PAGE_URL: product.data.DETAIL_PAGE_URL,\r\n          DISCOUNT_PRICE: product.data.DISCOUNT_PRICE,\r\n          DESCRIPTION: product.data.PREVIEW_TEXT,\r\n          SUM_BASE_FORMATED: product.data.SUM_BASE_FORMATED,\r\n          SUM_FORMATED: product.data.SUM,\r\n        };\r\n      });\r\n\r\n      //properties\r\n      this.PROPERTIES = Object.values(data.ORDER_PROP.properties);\r\n\r\n      this.DELIVERY_ERRORS = data.ERROR;\r\n      this.PAY_SYSTEM_ERRORS = data.ERROR;\r\n\r\n      this.PERSON_TYPE = Object.values(data.PERSON_TYPE);\r\n\r\n      this.PRODUCTS_BASE_PRICE_FORMATED = data.TOTAL.PRICE_WITHOUT_DISCOUNT;\r\n      this.PRODUCTS_PRICE_FORMATED = data.TOTAL.ORDER_PRICE_FORMATED;\r\n      this.PRODUCTS_DISCOUNT_FORMATED = data.TOTAL.DISCOUNT_PRICE_FORMATED;\r\n\r\n      this.DELIVERY_BASE_PRICE_FORMATED = data.TOTAL.DELIVERY_PRICE_FORMATED;\r\n\r\n      this.DISCOUNT_PRICE_FORMATED = data.TOTAL.DISCOUNT_PRICE_FORMATED;\r\n\r\n      this.SUM_BASE_FORMATED = data.TOTAL.PRICE_WITHOUT_DISCOUNT;\r\n      this.SUM_FORMATED = data.TOTAL.ORDER_PRICE_FORMATED;\r\n    },\r\n    endLoader() {\r\n      console.log('endLoader');\r\n    },\r\n  },\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\n\r\nexport class OrderMake {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Order Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      mounted() {\r\n        if (self.options && typeof self.options === 'object') {\r\n          Object.keys(self.options).forEach((key) => {\r\n            dataStore()[key] = self.options[key] || '';\r\n          });\r\n        }\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore(): Object {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","sessionid","signedParameters","Application","data","locations","undefined","order","PROPERTIES","DELIVERY_LIST","DELIVERY_ERRORS","PAY_SYSTEM_LIST","PAY_SYSTEM_ERRORS","BASKET","PRODUCTS_BASE_PRICE_FORMATED","PRODUCTS_PRICE_FORMATED","PRODUCTS_DISCOUNT_FORMATED","DELIVERY_BASE_PRICE_FORMATED","DELIVERY_PRICE_FORMATED","DELIVERY_DISCOUNT_FORMATED","SUM_BASE_FORMATED","DISCOUNT_VALUE_FORMATED","SUM_FORMATED","components","template","computed","mapState","methods","mapActions","loadData","self","BX","ajax","method","dataType","url","OPTIONS","onsuccess","delegate","result","makeData","onfailure","endLoader","Object","values","PAY_SYSTEM","map","pay","ID","SORT","NAME","DESCRIPTION","CHECKED","SRC","PSA_LOGOTIP_SRC","DELIVERY","del","LOGOTIP_SRC","PRICE_FORMATED","FIELD_NAME","GRID","ROWS","product","PROPS","QUANTITY","MEASURE","MEASURE_TEXT","DETAIL_PICTURE_SRC_ORIGINAL","BASE_PRICE","BASE_PRICE_FORMATED","PRICE","DETAIL_PAGE_URL","DISCOUNT_PRICE","PREVIEW_TEXT","SUM","ORDER_PROP","properties","ERROR","PERSON_TYPE","TOTAL","PRICE_WITHOUT_DISCOUNT","ORDER_PRICE_FORMATED","DISCOUNT_PRICE_FORMATED","console","log","OrderMake","rootNode","options","createPinia","document","querySelector","BitrixVue","createApp","name","mounted","keys","forEach","key","use","mount","setActivePinia","tableStore"],"mappings":"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"}